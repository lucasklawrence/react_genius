{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"C:\\\\Users\\\\Dell\\\\Documents\\\\University_of_Miami\\\\Git\\\\next_react_attempt\\\\pages\\\\post.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useRouter } from 'next/router';\nimport Layout from '../components/MyLayout';\n\nvar Page = function Page(props) {\n  return __jsx(Layout, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 7\n    },\n    __self: this\n  }, __jsx(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 8\n    },\n    __self: this\n  }, props.artist.name), __jsx(\"ul\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 9\n    },\n    __self: this\n  }, props.artist.albums.map(function (album) {\n    return __jsx(\"li\", {\n      key: album.title,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 11\n      },\n      __self: this\n    }, album.title);\n  })), __jsx(\"ul\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16\n    },\n    __self: this\n  }, props.songs.songs.map(function (song) {\n    return __jsx(\"li\", {\n      key: song.title,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 18\n      },\n      __self: this\n    }, song.title);\n  })));\n};\n\nPage.getInitialProps =\n/*#__PURE__*/\nfunction () {\n  var _ref = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee(context) {\n    var url, fetch_url, res, data, all_songs;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            //const router = useRouter();\n            //console.log(this);\n            url = context.query.url;\n            console.log(\"id url\", url);\n            fetch_url = 'http://localhost:4000/artist?url=' + url;\n            console.log(\"here\");\n            _context.next = 6;\n            return fetch(fetch_url);\n\n          case 6:\n            res = _context.sent;\n            _context.next = 9;\n            return res.json();\n\n          case 9:\n            data = _context.sent;\n            console.log(\"Show data fetched. Count: \".concat(data.length));\n            all_songs = {};\n            all_songs.songs = [];\n            data.artist_json.albums.forEach(function (wow) {\n              console.log(\"here in album\");\n              wow.songs.forEach(function (song) {\n                //console.log(song.title);\n                all_songs.songs.push(song);\n              });\n            }); //console.log(data);\n\n            return _context.abrupt(\"return\", {\n              artist: data.artist_json,\n              songs: all_songs\n            });\n\n          case 15:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nexport default Page;","map":{"version":3,"sources":["C:/Users/Dell/Documents/University_of_Miami/Git/next_react_attempt/pages/post.js"],"names":["useRouter","Layout","Page","props","artist","name","albums","map","album","title","songs","song","getInitialProps","context","url","query","console","log","fetch_url","fetch","res","json","data","length","all_songs","artist_json","forEach","wow","push"],"mappings":";;;;;AAAA,SAASA,SAAT,QAA0B,aAA1B;AACA,OAAOC,MAAP,MAAmB,wBAAnB;;AAEA,IAAMC,IAAI,GAAG,SAAPA,IAAO,CAAAC,KAAK,EAAI;AAEpB,SACE,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKA,KAAK,CAACC,MAAN,CAAaC,IAAlB,CADA,EAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGF,KAAK,CAACC,MAAN,CAAaE,MAAb,CAAoBC,GAApB,CAAwB,UAAAC,KAAK;AAAA,WAC5B;AAAI,MAAA,GAAG,EAAEA,KAAK,CAACC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGD,KAAK,CAACC,KADT,CAD4B;AAAA,GAA7B,CADH,CAFA,EASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGN,KAAK,CAACO,KAAN,CAAYA,KAAZ,CAAkBH,GAAlB,CAAsB,UAAAI,IAAI;AAAA,WACzB;AAAI,MAAA,GAAG,EAAEA,IAAI,CAACF,KAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGE,IAAI,CAACF,KADR,CADyB;AAAA,GAA1B,CADH,CATA,CADF;AAmBD,CArBD;;AAuBAP,IAAI,CAACU,eAAL;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAuB,iBAAeC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AACrB;AACA;AACQC,YAAAA,GAHa,GAGLD,OAAO,CAACE,KAHH,CAGbD,GAHa;AAIrBE,YAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBH,GAAtB;AACII,YAAAA,SALiB,GAKL,sCAAsCJ,GALjC;AAMrBE,YAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AANqB;AAAA,mBAOHE,KAAK,CAACD,SAAD,CAPF;;AAAA;AAOfE,YAAAA,GAPe;AAAA;AAAA,mBASFA,GAAG,CAACC,IAAJ,EATE;;AAAA;AASfC,YAAAA,IATe;AAWrBN,YAAAA,OAAO,CAACC,GAAR,qCAAyCK,IAAI,CAACC,MAA9C;AAEIC,YAAAA,SAbiB,GAaL,EAbK;AAcrBA,YAAAA,SAAS,CAACd,KAAV,GAAkB,EAAlB;AAEAY,YAAAA,IAAI,CAACG,WAAL,CAAiBnB,MAAjB,CAAwBoB,OAAxB,CAAgC,UAASC,GAAT,EAAa;AAC5CX,cAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACAU,cAAAA,GAAG,CAACjB,KAAJ,CAAUgB,OAAV,CAAkB,UAASf,IAAT,EAAc;AAC/B;AACAa,gBAAAA,SAAS,CAACd,KAAV,CAAgBkB,IAAhB,CAAqBjB,IAArB;AACA,eAHD;AAIA,aAND,EAhBqB,CAuBrB;;AAvBqB,6CAwBd;AAACP,cAAAA,MAAM,EAAEkB,IAAI,CAACG,WAAd;AACCf,cAAAA,KAAK,EAAEc;AADR,aAxBc;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAvB;;AAAA;AAAA;AAAA;AAAA;;AA4BA,eAAetB,IAAf","sourcesContent":["import { useRouter } from 'next/router';\r\nimport Layout from '../components/MyLayout';\r\n\r\nconst Page = props => {\r\n  \r\n  return (\r\n    <Layout>\r\n    <h1>{props.artist.name}</h1>\r\n    <ul>\r\n      {props.artist.albums.map(album => (\r\n        <li key={album.title}>\r\n          {album.title}\r\n        </li>\r\n      ))}\r\n    </ul>\r\n    <ul>\r\n      {props.songs.songs.map(song => (\r\n        <li key={song.title}>\r\n          {song.title}\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  </Layout>\r\n  );\r\n};\r\n\r\nPage.getInitialProps = async function(context) {\r\n  //const router = useRouter();\r\n  //console.log(this);\r\n  const { url } = context.query;\r\n  console.log(\"id url\", url);\r\n  var fetch_url = 'http://localhost:4000/artist?url=' + url;\r\n  console.log(\"here\");\r\n  const res = await fetch(fetch_url);\r\n  //const res = await fetch('http://localhost:4000/Abba');\r\n  const data = await res.json();\r\n\r\n  console.log(`Show data fetched. Count: ${data.length}`);\r\n\r\n  var all_songs = {};\r\n  all_songs.songs = [];\r\n\r\n  data.artist_json.albums.forEach(function(wow){\r\n  \tconsole.log(\"here in album\");\r\n  \twow.songs.forEach(function(song){\r\n  \t\t//console.log(song.title);\r\n  \t\tall_songs.songs.push(song)\r\n  \t});\r\n  });\r\n  //console.log(data);\r\n  return {artist: data.artist_json,\r\n          songs: all_songs}\r\n};\r\n\r\nexport default Page;"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Dell\\\\Documents\\\\University_of_Miami\\\\Git\\\\next_react_attempt\\\\pages\\\\post.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useRouter } from 'next/router';\nimport Layout from '../components/MyLayout';\n\nconst Page = props => {\n  return __jsx(Layout, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 7\n    },\n    __self: this\n  }, __jsx(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 8\n    },\n    __self: this\n  }, props.artist.name), __jsx(\"ul\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 9\n    },\n    __self: this\n  }, props.artist.albums.map(album => __jsx(\"li\", {\n    key: album.title,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 11\n    },\n    __self: this\n  }, album.title))), __jsx(\"ul\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16\n    },\n    __self: this\n  }, props.songs.songs.map(song => __jsx(\"li\", {\n    key: song.title,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18\n    },\n    __self: this\n  }, song.title))));\n};\n\nPage.getInitialProps = async function (context) {\n  //const router = useRouter();\n  //console.log(this);\n  const {\n    url\n  } = context.query;\n  console.log(\"id url\", url);\n  var fetch_url = 'http://localhost:4000/artist?url=' + url;\n  console.log(\"here\");\n  const res = await fetch(fetch_url); //const res = await fetch('http://localhost:4000/Abba');\n\n  const data = await res.json();\n  console.log(`Show data fetched. Count: ${data.length}`);\n  var all_songs = {};\n  all_songs.songs = [];\n  data.artist_json.albums.forEach(function (wow) {\n    console.log(\"here in album\");\n    wow.songs.forEach(function (song) {\n      //console.log(song.title);\n      all_songs.songs.push(song);\n    });\n  }); //console.log(data);\n\n  return {\n    artist: data.artist_json,\n    songs: all_songs\n  };\n};\n\nexport default Page;","map":{"version":3,"sources":["C:/Users/Dell/Documents/University_of_Miami/Git/next_react_attempt/pages/post.js"],"names":["useRouter","Layout","Page","props","artist","name","albums","map","album","title","songs","song","getInitialProps","context","url","query","console","log","fetch_url","res","fetch","data","json","length","all_songs","artist_json","forEach","wow","push"],"mappings":";;;AAAA,SAASA,SAAT,QAA0B,aAA1B;AACA,OAAOC,MAAP,MAAmB,wBAAnB;;AAEA,MAAMC,IAAI,GAAGC,KAAK,IAAI;AAEpB,SACE,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKA,KAAK,CAACC,MAAN,CAAaC,IAAlB,CADA,EAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGF,KAAK,CAACC,MAAN,CAAaE,MAAb,CAAoBC,GAApB,CAAwBC,KAAK,IAC5B;AAAI,IAAA,GAAG,EAAEA,KAAK,CAACC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGD,KAAK,CAACC,KADT,CADD,CADH,CAFA,EASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGN,KAAK,CAACO,KAAN,CAAYA,KAAZ,CAAkBH,GAAlB,CAAsBI,IAAI,IACzB;AAAI,IAAA,GAAG,EAAEA,IAAI,CAACF,KAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGE,IAAI,CAACF,KADR,CADD,CADH,CATA,CADF;AAmBD,CArBD;;AAuBAP,IAAI,CAACU,eAAL,GAAuB,gBAAeC,OAAf,EAAwB;AAC7C;AACA;AACA,QAAM;AAAEC,IAAAA;AAAF,MAAUD,OAAO,CAACE,KAAxB;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBH,GAAtB;AACA,MAAII,SAAS,GAAG,sCAAsCJ,GAAtD;AACAE,EAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AACA,QAAME,GAAG,GAAG,MAAMC,KAAK,CAACF,SAAD,CAAvB,CAP6C,CAQ7C;;AACA,QAAMG,IAAI,GAAG,MAAMF,GAAG,CAACG,IAAJ,EAAnB;AAEAN,EAAAA,OAAO,CAACC,GAAR,CAAa,6BAA4BI,IAAI,CAACE,MAAO,EAArD;AAEA,MAAIC,SAAS,GAAG,EAAhB;AACAA,EAAAA,SAAS,CAACd,KAAV,GAAkB,EAAlB;AAEAW,EAAAA,IAAI,CAACI,WAAL,CAAiBnB,MAAjB,CAAwBoB,OAAxB,CAAgC,UAASC,GAAT,EAAa;AAC5CX,IAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACAU,IAAAA,GAAG,CAACjB,KAAJ,CAAUgB,OAAV,CAAkB,UAASf,IAAT,EAAc;AAC/B;AACAa,MAAAA,SAAS,CAACd,KAAV,CAAgBkB,IAAhB,CAAqBjB,IAArB;AACA,KAHD;AAIA,GAND,EAhB6C,CAuB7C;;AACA,SAAO;AAACP,IAAAA,MAAM,EAAEiB,IAAI,CAACI,WAAd;AACCf,IAAAA,KAAK,EAAEc;AADR,GAAP;AAED,CA1BD;;AA4BA,eAAetB,IAAf","sourcesContent":["import { useRouter } from 'next/router';\r\nimport Layout from '../components/MyLayout';\r\n\r\nconst Page = props => {\r\n  \r\n  return (\r\n    <Layout>\r\n    <h1>{props.artist.name}</h1>\r\n    <ul>\r\n      {props.artist.albums.map(album => (\r\n        <li key={album.title}>\r\n          {album.title}\r\n        </li>\r\n      ))}\r\n    </ul>\r\n    <ul>\r\n      {props.songs.songs.map(song => (\r\n        <li key={song.title}>\r\n          {song.title}\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  </Layout>\r\n  );\r\n};\r\n\r\nPage.getInitialProps = async function(context) {\r\n  //const router = useRouter();\r\n  //console.log(this);\r\n  const { url } = context.query;\r\n  console.log(\"id url\", url);\r\n  var fetch_url = 'http://localhost:4000/artist?url=' + url;\r\n  console.log(\"here\");\r\n  const res = await fetch(fetch_url);\r\n  //const res = await fetch('http://localhost:4000/Abba');\r\n  const data = await res.json();\r\n\r\n  console.log(`Show data fetched. Count: ${data.length}`);\r\n\r\n  var all_songs = {};\r\n  all_songs.songs = [];\r\n\r\n  data.artist_json.albums.forEach(function(wow){\r\n  \tconsole.log(\"here in album\");\r\n  \twow.songs.forEach(function(song){\r\n  \t\t//console.log(song.title);\r\n  \t\tall_songs.songs.push(song)\r\n  \t});\r\n  });\r\n  //console.log(data);\r\n  return {artist: data.artist_json,\r\n          songs: all_songs}\r\n};\r\n\r\nexport default Page;"]},"metadata":{},"sourceType":"module"}